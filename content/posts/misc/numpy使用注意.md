---
title: "numpy使用注意"
date: 2022-10-04T11:38:07+08:00
topics: "misc"
draft: true
---

# 切片和索引的区别
```python
a = np.arange(9).reshape(3, 3)
print a
[out]:
[[0, 1, 2],
[3, 4, 5],
[6, 7, 8]]

print a[:2, [0, 1]]
[out]:
[[0, 1],
[3, 4]]

print a[[0, 1], [0, 1]]
[out]:
[0, 4]

```
注意到这两行输出的值是非常不同的

对于$a[:2, [0, 1]]$，表示取$0,1$行中，**每一行**都取$[0, 1]$
> 有切片都会应用到所有

对于$a[[0, 1], [0, 1]]$，表示分别取$0$行中的第$0$个，取$1$行的$1$个

# 关于numpy切片返回视图

比较奇诡，对于$a[切片/索引组合]$这种直接修改，是会反应到原视图的

但对$a[切片/索引组合][其他切片索引组合]$是否修改原数组值呢，这就要分情况讨论了，如果第一个$[]$是纯切片那么还是会反应到原来数组，如果不是纯切片还组合了其他高级索引，那就不行
